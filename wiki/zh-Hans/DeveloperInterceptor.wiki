#summary 使用拦截器

= 使用拦截器 =

拦截器（Interceptor）和Servlet规范的Filter类似，但是，拦截器由IoC容器管理。WebWind自动从IoC容器中查找所有的拦截器。拦截器可以用来实现事务、日志等功能。

定义一个拦截器非常简单：

{{{
import org.expressme.webwind.*;

@InterceptorOrder(0)
public class PerformanceInterceptor implements Interceptor {
    public void intercept(Execution execution, InterceptorChain chain) throws Exception {
        long start = System.currentTimeMillis();
        try {
            chain.doInterceptor(execution);
        }
        finally {
            long last = System.currentTimeMillis() - start;
            System.out.println("Execute " + last + " ms for URL: " + execution.request.getRequestURI());
        }
    }
}
}}}

但是不要忘记调用`chain.doInterceptor(execution)`，否则，处理HTTP请求的过程将终止。

一个以上的拦截器组成拦截器链。`@InterceptorOrder`用于指定每个拦截器的顺序，数字小的拦截器排在前面。
